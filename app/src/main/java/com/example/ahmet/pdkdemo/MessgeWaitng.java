package com.example.ahmet.pdkdemo;

import android.os.Handler;
import android.os.Message;
import android.util.Log;


public class MessgeWaitng implements Runnable {

    private static Handler mHandler; // handle nesnesi
    private int controlmsg1; // ilk mesaj kodu
    private int controlmsg2; // ikinci mesaj kodu
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // eger mesaj mainden gelirse
    public MessgeWaitng(Handler h,int controlmsg1,int controlmsg2 ){
        mHandler = h; // main den gelen activty
        this.controlmsg1 = controlmsg1;
        this.controlmsg2 = controlmsg2;
    }
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /**
     * eger mesaj handle xmlden gelirse bu yapici calisir.
     * @param controlmsg1
     * @param controlmsg2
     */
    public MessgeWaitng(int controlmsg1,int controlmsg2){
        this.controlmsg2 = controlmsg2;
        this.controlmsg1 = controlmsg1;
    }
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /**
     * gosterilecek mesaj thread ile paralel yapilir 5 sn beklenir ve yeni mesaj yollanir.
     */
    @Override
    public void run() {
        try{
            Message msg1 = mHandler.obtainMessage(controlmsg1);
            mHandler.sendMessage(msg1);
            Log.i("Kayit","BulunamadiThread");
            Thread.sleep(3000);
            Message msg2 = mHandler.obtainMessage(controlmsg2);
            mHandler.sendMessage(msg2);
        }
        catch (Exception e){}
    }
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
